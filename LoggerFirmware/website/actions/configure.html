<!DOCTYPE html>
<head>
    <title>Configuration Interface</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/forms.css">
</head>
<html>
    <header class="primary-header">
        <a href="../index.html">
            <img src="../images/WIBL-CoreWhite-125px.png" alt="The WIBL Project Logo" width="80" class="logo"/>
        </a>
        <h1 class="title">Wireless Inexpensive Bathymetry Logger</h1>
    </header>
    <body>
        <script src="../js/common.js"></script>
        <script src="../js/configuration.js"></script>
        <div class="main-wrapper">
            <form action="#" method="post">
                <div class="group-wrapper">
                    <fieldset class="metadata">
                        <legend>Metadata</legend>
                        <label for="unique-id">Unique Identifier</label>
                        <input type="text" name="uuid" id="unique-id" required/>
                        <button class="uuid-gen" type="button" onclick="generateUniqueID()">Generate UUID</button>
                        <br>
                        <label for="ship-name">Ship Name</label>
                        <input type="text" name="shipname" id="ship-name" required/>
                    </fieldset>
                </div>
                <div class="group-wrapper">
                    <fieldset class="checkboxes">
                        <legend>Options</legend>
                        <input type="checkbox" name="nmea0183" id="nmea0183" value="on"/>
                        <label for="nmea0183">NMEA0183 Logger</label><br>
                        <input type="checkbox" name="nmea2000" id="nmea2000" value="on"/>
                        <label for="nmea2000">NMEA2000 Logger</label><br>
                        <input type="checkbox" name="imu" id="imu" value="on"/>
                        <label for="nmea2000">IMU Logger</label><br>
                        <input type="checkbox" name="epower" id="epower" value="on"/>
                        <label for="nmea2000">Emergency Power Monitor</label><br>
                        <input type="checkbox" name="memctrl" id="memcontroller" value="on"/>
                        <label for="nmea2000">SD/MMC Memory Controller</label><br>
                        <input type="checkbox" name="bridge" id="nmeabridge" value="on"/>
                        <label for="nmea2000">UDP NMEA0183 Bridge</label><br>
                        <input type="checkbox" name="webserver" id="webserveronboot" value="on"/>
                        <label for="webserveronboot">Webserver On Boot</label><br>
                    </fieldset>
                </div>
                <div class="group-wrapper">
                    <fieldset>
                        <legend>WiFi Configuration</legend>
                        <label for="wifimode">Mode</label>
                        <select name="wifimode" id="wifimode">
                            <option value="AP">AP</option>
                            <option value="Station">Station</option>
                        </select>
                        <br>
                        <fieldset class="internal">
                            <legend>Station Join Configuration</legend>
                            <label for="retry-delay">Retry Delay (s)</label>
                            <input type="number" name="retrydelay" id="retry-delay"/>
                            <br>
                            <label for="retry-count">Retry Count</label>
                            <input type="number" name="retrycount" id="retry-count"/>
                            <br>
                            <label for="join-timeout">Join Timeout (s)</label>
                            <input type="number" name="jointimeout" id="join-timeout"/>
                            <br>
                        </fieldset>
                        <fieldset class="internal">
                            <legend>Identification</legend>
                            <label for="ap-ssid">AP SSID</label>
                            <input type="text" name="apssid" id="ap-ssid"/>
                            <br>
                            <label for="ap-password">AP Password</label>
                            <input type="text" name="appwd" id="ap-password"/>
                            <br>
                            <label for="station-ssid">Station SSID</label>
                            <input type="text" name="stationssid" id="station-ssid"/>
                            <br>
                            <label for="station-password">Station Password</label>
                            <input type="text" name="stationpwd" id="station-password"/>
                            <br>
                        </fieldset>
                    </fieldset>
                </div>
                <div class="group-wrapper">
                    <fieldset class="baudrates">
                        <legend>NMEA0183 Baud Rates</legend>
                        <label for="port1-baud">Port 1 (Baud)</label>
                        <input type="number" name="port1rate" id="port1-baud"/>
                        <br>
                        <label for="port2-baud">Port 2 (Baud)</label>
                        <input type="number" name="port2rate" id="port2-baud"/>
                        <br>
                    </fieldset>
                </div>
                <div class="group-wrapper">
                    <fieldset>
                        <legend>UDP Bridge</legend>
                        <label for="bridge-port">Port</label>
                        <input type="number" name="bridgeport" id="bridge-port"/>
                    </fieldset>
                </div>
                <div class="group-wrapper">
                    <input type="button" value="Set Working Config" onclick="uploadCurrentConfig()"/>
                    <input type="button" value="Set Default Config" onclick="uploadDefaultConfig()"/>
                    <input type="button" value="Save to Disc" onclick="saveConfigLocally()">
                    <input type="button" value="Load from Disc" onclick="loadConfigLocally()">
                </div>
            </form>
            <script>
                populateConfig();
            </script>
        </div>
    </body>
</html>
